package ui;

import java.util.Scanner;

import service.BoardService;
import service.BoardServiceFactory;

public abstract class BaseUI implements IBoardUI {

	/**
	 * public class ExitUI extends BaseUI implements IBoardUI ëª¨ë“  UIë§ˆë‹¤ ë˜‘ê°™ì´ ì ì–´ì¤˜ì•¼ ë˜ëŠ”ë°
	 * í•˜.. ê·€ì°®ë‹¤ ê·¸ë˜ ê·¸ëŸ¼ ì´ë¯¸ ì–´ì°¨í”¼ BaseUIë¥¼ ìƒì†ë°›ì„ê±°ì–ì•„ ê·¸ë‹ˆê¹ ì—¬ê¸°ë‹¤ê°€ ì¸í„°í˜ì´ìŠ¤ ë„£ì–´ì£¼ë©´ ë˜ì–ì•„.. ê·¸ë˜ ë„£ì—ˆì–´ ê°ê°ì˜
	 * ê°ì²´ë§ˆë‹¤ ìƒì†ë°›ì•˜ì–´ ì´ì œ ì´ ë¶€ëª¨ê°ì²´ê°€ ìƒì†ë°›ì€ ì¸í„°í˜ì´ìŠ¤ ì“¸ë¼í•´ ì¸í„°í˜ì´ìŠ¤ì—ì„œ executeë¡œ ì •ì˜ í–ˆì–´ ì‚¬ìš©í•´ ê·¼ë° ë¬¼ë ¤ë°›ì€ ìì‹ê°ì²´ëŠ”
	 * ì˜¤ë²„ë¼ì´ë”©ì„ í•´ì„œ ì¨ì•¼ë˜ ë¶€ëª¨ê°€ ë¬¼ë ¤ë°›ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì“¸ë¼í•´ ì˜¤ë²„ë¼ì´ë”© í•´ ì˜¤ë¥˜ë‚˜... ì•„ ì¸í„°í˜ì´ìŠ¤ì—” êµ¬í˜„ëœê²Œ ì—†ì§€ ì´ë¦„ë§Œ ì§€ì–´ë…¼
	 * ê³³ì´ë‹ˆê¹.. ê·¸ë˜ ì´ê±´ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ë²„ë¦¬ì ê·¸ëŸ¼ execute ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
	 */

	// ê³µí†µì ì¸ ê¸°ëŠ¥ì„ ëª¨ì•„ë†“ê³  ì´ ê¸°ëŠ¥ì„ í•„ìš”ë¡œ í•˜ëŠ” ê°ì²´ì—ê²Œ ìƒì†í•˜ê¸° ìœ„í•´ ë§Œë“  í´ë˜ìŠ¤ì´ë‹¤
	// ì´ í´ë˜ìŠ¤ëŠ” ì…ë ¥ë°›ëŠ”ê¸°ëŠ¥ì„ ëª¨ì•„ë†“ì€ í´ë˜ìŠ¤ì…ë‹ˆë‹¤

	private Scanner sc;
	protected BoardService boardService;
	public static String loginUserId = null; // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì•„ì´ë””
	public static int loginUserNo = -1; // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ íšŒì›ë²ˆí˜¸
	public static String loginUserType = null; // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ìœ í˜• (U, C, A)

	public BaseUI() {
		sc = new Scanner(System.in);
		// BaseUIê°€ ìƒì„±ë  ë•Œ ë§Œë“¤ì–´ì§€ëŠ” ì…ë ¥ë°›ê¸° ê¸°ëŠ¥
		boardService = new BoardServiceFactory().getInstance();
	}

	protected String scanStr(String msg) {
		/**
		 * ì´ ê¸°ëŠ¥ì€ ìƒì†ë°›ì€ ê°ì²´ë§Œ ì‚¬ìš©í•˜ê²Œ í• ê±°ë‹ˆê¹ protectedë¡œ ë°”ê¿”ì•¼ ê² ë‹¹ ìƒì†ë°›ì€ ê°ì²´ê°€ í˜¸ì¶œí•  ê²½ìš° í•´ë‹¹ ê°’ ê°€ì ¸ì˜¨ë‹¤
		 * protected ê°™ì€ íŒ¨í‚¤ì§€ ë‚´ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥ ë‹¨ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì˜ ìƒì†ê´€ê³„ì¸ ê²½ìš° ìƒì†ë°›ì€ ìì‹ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ë¶€ëª¨ê°ì²´ ì ‘ê·¼ì´
		 * ê°€ëŠ¥í•˜ë‹¤ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œ ë¶€ëª¨ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê±´ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ ê°™ì€ íŒ¨í‚¤ì§€ëŠ” ê°€ëŠ¥í•˜ë‹¤
		 */
		System.out.print(msg);
		return sc.nextLine();
	}

	protected int scanInt(String msg) {
		System.out.print(msg);
		int no = Integer.parseInt(sc.nextLine());
		// ë¬¸ìë¡œ ì…ë ¥ë°›ì€ ìˆ«ì ê°’ì„ parseInt ì‚¬ìš©í•´ì„œ Intí˜•ìœ¼ë¡œ ë³€í™˜ì‹œì¼œì¤€ë‹¤
		// ì¸íŠ¸í˜•ìœ¼ë¡œ ë³€í™˜í•´ì£¼ì—ˆìœ¼ë‹ˆ ê·¸ ê°’ì„ intí˜• ë³€ìˆ˜ì— ì €ì¥í•œë‹¤
		return no;
		// ë³€í™˜ëœ ê°’ì„ ì¸íŠ¸í˜• ë³€ìˆ˜ì— ì €ì¥í•œ ê°’ì„ ë¦¬í„´í•´ì¤€ë‹¤
		// ì¶”í›„ ìˆ«ìê°€ ì•„ë‹Œ ì¼ë°˜ ë¬¸ìê°€ ë“¤ì–´ì˜¬ ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¶”í›„ì— ì—ëŸ¬ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤
	}

	protected void printHeader() {
		System.out.println();
		System.out.println(" â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—");
		System.out.println("â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆ â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•");
		System.out.println("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•â•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   ");
		System.out.println("â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   ");
		System.out.println("â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   ");
		System.out.println("â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•   ");

		System.out.println("           ğŸ‘Ÿ ì•„ë¥´ë°”ì´íŠ¸ êµ¬ì¸Â·êµ¬ì§ í”Œë«í¼           ");
		System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
	}

	protected String fixWidth(String input, int width) {
		int count = 0;
		StringBuilder sb = new StringBuilder();
		for (char c : input.toCharArray()) {
			count += (isKorean(c) ? 2 : 1);
			if (count > width)
				break;
			sb.append(c);
		}
		// ë‚¨ì€ ì¹¸ ê³µë°±ìœ¼ë¡œ ì±„ìš°ê¸°
		while (count++ < width) {
			sb.append(" ");
		}
		return sb.toString();
	}

	private boolean isKorean(char c) {
		return (c >= 0xAC00 && c <= 0xD7A3);
	}

}
